# 16강 행 추가하기 - INSERT

<img width="565" alt="스크린샷 2021-09-14 오전 10 32 07" src="https://user-images.githubusercontent.com/81137234/133179892-d8d9361a-aff9-476c-b9bd-be1ddf81179b.png">

우선 데이터베이스를 만들었다.

<img width="561" alt="스크린샷 2021-09-14 오전 10 31 54" src="https://user-images.githubusercontent.com/81137234/133179941-fabc19b8-5af4-45ef-91e2-fc688af866cd.png">

데이터베이스를 선택했다.

<img width="561" alt="스크린샷 2021-09-14 오전 10 31 44" src="https://user-images.githubusercontent.com/81137234/133179870-805d2f74-ee6b-4e04-bde7-06e2269750f0.png">

빈 테이블을 만들었다.

<img width="418" alt="스크린샷 2021-09-14 오전 10 35 39" src="https://user-images.githubusercontent.com/81137234/133180152-1d4b8307-fcc8-447d-808d-7ce49f5736e5.png">

insert 구로 행을 추가 시 데이터가 들어가는 것을 볼 수 있다.

<img width="369" alt="스크린샷 2021-09-14 오전 10 37 18" src="https://user-images.githubusercontent.com/81137234/133180295-5c304c43-cf45-4b44-87ca-851d69511aed.png">

test 테이블에 id열과 name 열만 지정해 행을 추가하면 날짜 열은 NULL로 나오는 것을 볼 수 있다. DEFAULT 값이 NULL이기 떄문에 NULL이 나온다.

<img width="466" alt="스크린샷 2021-09-14 오전 10 38 42" src="https://user-images.githubusercontent.com/81137234/133180394-a91123ac-3908-42c9-95b2-3683947bbdc3.png">

다음과 같이 NOT NULL 제약이 걸려있는 열은 NULL을 허용하지 않는다.

<img width="482" alt="스크린샷 2021-09-14 오전 10 41 24" src="https://user-images.githubusercontent.com/81137234/133180601-325fe22d-8f04-4919-afa9-394b04338a65.png">

다음과 같이 DEFAULT를 입력할 수도 있다.

<br>

---

# 17강 삭제하기 - DELETE

<img width="275" alt="스크린샷 2021-09-14 오후 12 41 59" src="https://user-images.githubusercontent.com/81137234/133191449-507c5d2a-413b-4d25-b378-5556b6e88995.png">

DELETE  FROM 테이블에서 DELETE 명령을 실행하면 해당 테이블의 모든 데이터가 삭제된다. DELETE 명령은 WHERE 구를 지정할 수 있으나 SELECT 명령처럼 WHERE 구를 생략할 경우에는 모든 행을 대상으로 동작하기 때문이다.

<br>

---

# 18강 데이터 갱신하기 - UPDATE

<img width="356" alt="스크린샷 2021-09-14 오후 12 45 50" src="https://user-images.githubusercontent.com/81137234/133191755-545140ca-72cf-4500-a9a7-ed2d1c3e8b2e.png">

SET 구를 사용하여 갱신할 열과 값을 지정합니다. 문법 `SET 열명 = 값`이다. 이때 `=` 은 비교 연산자가 아닌 값을 대입하는 대입 연산자이다. 같은 `=`이지만 연산 방법이 다르다.

<img width="321" alt="스크린샷 2021-09-14 오후 12 48 28" src="https://user-images.githubusercontent.com/81137234/133191977-992e0a9e-1abf-4629-89de-32251c4f262e.png">

이 명령문에는 WHERE 구가 지정되어 있지 않으므로 갱신 대상은 테이블의 모든 행이 된다. SET 구에서는 id 열의 값을 갱신하는데, 갱신 후의 값은 본래 값에서 1을 더한 결과이다. 증가 연산과 같은 형식을 취한다.

<br>

---

# 19강 물리 삭제와 논리 삭제

물리 삭제와 논리 삭제는 전용 SQL 명령어가 존재하지 않는다. 시스템 설계 분야에 관한 설명이다.

## 1) 물리 삭제
물리 삭제는 SQL의 DELETE 명령을 사용해 직접 데이터를 삭제하자는 사고 방식이다. 삭제 대상 데이터는 필요없는 데이터이므로 DELETE 명령을 실행해서 테이블에서 삭제해버리자, 라는 자연스러운 발생에 의한 삭제 방법이다.

## 2) 논리 삭제
테이블에 '삭제플래그'와 같은 열을 준비한다.
즉, 테이블에서 실제로 행을 삭제하는 대신, UPDATE 명령을 이용해 '삭제플래그'의 값을 유효하게 갱신해두자는 발상에 의한 삭제방법이다. 실제 테이블 안에 데이터는 남아있지만, 참조할 때에는 '삭제플래그'가 삭제로 설정된 행을 제외하는 SELETE 명령을 실행한다. 결과적으로는 해당 행이 삭제된 것처럼 보인다.

## 3) 어떤 삭제 방법을 선택해야할까?
어떤 방법으로 삭제할 것인지는 시스템의 특성이나 테이블에 저장되어 있는 데이터의 특성에 따라 다르기 때문에 단정할 수 없다.

예를 들어 SNS 서비스처럼 사용자의 개인정보를 다루는 시스템에서는 사용자가 탈퇴한 경우 데이터를 삭제한다. 이때 개인정보를 취급하는 마스터 테이블에서 삭제할 경우에는 물리삭제를 하는 편이 안전할 것이다. 개인정보의 유출을 미연에 방지하는 측면에서도 좋은 선택이다.

반면, 쇼핑 사이트의 경우에는 사용자가 주문을 취소할 경우에도 데이터를 삭제한다. 이러한 경우에는 논리 삭제 방법을 많이 사용한다. 주문이 취소되었다고해도 발주는 된 것으로, 해당 정보가 완전히 불필요한 것이라고 말할 수 없기 때문이다. 특히 주문 관련 통계를 낼 때 유용한 데이터가 될 수 있다.

한편, 하드웨어의 제한으로 물리 삭제를 할 수밖에 없는 경우도 있다. 논리 삭제로는 실제로 데이터가 삭제되지 않기 때문에 데이터베이스의 사용량은 줄어들지 않으며, 오히려 늘어난다. 이때 저장공간이 작다면 가능한 한 용량이 모자라지 않도록 운용할 필요가 있다. 결국 물리 삭제 방법으로 데이터를 지운다.

<br>

